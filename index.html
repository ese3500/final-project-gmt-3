<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Final Project Report</title>
    <style>
        body {
            font-family: Arial, sans-serif;
        }
        .navbar {
            overflow: hidden;
            background-color: #333;
        }
        .navbar a {
            float: left;
            display: block;
            color: #f2f2f2;
            text-align: center;
            padding: 14px 16px;
            text-decoration: none;
        }
        .navbar a:hover {
            background-color: #ddd;
            color: black;
        }
        .content {
            display: none;
            padding: 20px;
        }
        .active {
            display: block;
        }
        .image-container {
            text-align: center;
            margin: 1em 0;
        }
        
        .image-container img {
            max-width: 100%;
            height: auto;
            border: 1px solid #ddd;
            border-radius: 4px;
            padding: 5px;
            margin-bottom: 0.5em;
        }
    </style>
</head>
<body>

<div class="navbar">
    <a href="#video" onclick="openTab(event, 'Video')">Video</a>
    <a href="#images" onclick="openTab(event, 'Images')">Images</a>
    <a href="#results" onclick="openTab(event, 'Results')">Results</a>
    <a href="#conclusion" onclick="openTab(event, 'Conclusion')">Conclusion</a>
    <a href="#references" onclick="openTab(event, 'References')">References</a>
</div>

<div id="Video" class="content">
    <h2>Video</h2>
    <iframe src="https://drive.google.com/file/d/1CXbteqhHgOuDSwedZIaaMVsTIeWjQJRV/preview" width="640" height="480"></iframe>
</div>

<div id="Images" class="content">
    <h2>Images</h2>
            <div class="image-container">
                <img src="https://github.com/ese3500/final-project-gmt-3/assets/120141948/1173bdac-541b-4fc4-839f-b7a231f207a2" alt="Glove with Atmega328pb AVR xplained board">
                <p>Glove with Atmega328pb AVR xplained board attached to it along with the heart rate monitor.</p>
            </div>
            <div class="image-container">
                <img src="https://github.com/ese3500/final-project-gmt-3/assets/120141948/9f6965c7-e5ce-4302-bbae-90e034043467" alt="Game box">
                <p>The game box with two buttons to switch modes and go to the next question. It includes a monitor to display the state of the game, such as the current mode and question. It also includes a servo and buzzer to indicate truth or lie.</p>
            </div>
</div>

<div id="Results" class="content">
    <h2>Results</h2>
    <p>Our results were fairly satisfactory. We aimed to ensure the integrity of the truth part of the game and add another level of fun and excitement.</p>
    <h3>What Went Well:</h3>
    <ul>
        <li>We successfully modularized the project into smaller parts such as UART Communication, Heart rate sensing and analysis, Game Logic, and user interface. This made it easy to test each part independently, which worked flawlessly. Despite integration challenges, we managed to sort them out.</li>
    </ul>
    <h3>What Didn't Go Well:</h3>
    <ul>
        <li>The heart rate monitor we chose was finicky and acted as the sole point of failure. After the demo, we improved its stability by cleaning the surface and hand before each read and finding the optimal spot for the sensor. This led to significant improvements, as shown in our demo video.</li>
    </ul>
    <p>Overall, the project was fun to make and with further refinement could bring more enjoyment to players.</p>
    <h3>Software Requirements Specification (SRS) Results</h3>
    <p>- Storing Questions: We use two arrays for truth and dare questions. This is testable by the questions displayed.</p>
    <p>- Randomizing Questions: We use the built-in C rand() function to pick random questions. This was tested during display, ensuring a wide variety of questions.</p>
    <p>- Displaying Game Mode: The game mode changes with the MODE button and is displayed on the LCD screen.</p>
    <p>- Displaying Questions: The NEXT QUESTION button triggers a new question display based on the game mode.</p>
    <p>- LCD Screen Library: We used a graphics library from lab 4 to handle display requirements.</p>
    <p>- Serial/Wired Communication: UART connects the two AVR boards. We tested by verifying inputs in the data visualizer.</p>
    <p>- Heart Beat Analysis and Lie Detection: We used the ADC to measure heart rate and detect lies. Our sensor was about 7% accurate compared to an Apple Watch. <a href="https://drive.google.com/file/d/1izySs9cdAPYWGXXA1dDznRrSIScLzNJf/view?usp=sharing" target="_blank">Watch the heart rate monitor demo</a>.</p>
    <p>- Result Display: The result display functioned as expected based on serial communication inputs.</p>
    <p>- Penalty Enforcement: An annoying buzzer sound indicated a lie, tested successfully by others.</p>
    <h3>Hardware Requirements Specification (HRS) Results</h3>
    <p>- Atmega328pb AVR- Xplained board: Powered via micro USB.</p>
    <p>- Button 1: MODE button triggers an interrupt, tested by an LED indicator.</p>
    <p>- Button 2: NEXT QUESTION button triggers an interrupt, tested by an LED indicator.</p>
    <p>- LCD Screen: SPI transmission for game mode and question display.</p>
    <p>- Servo Motor: Fast PWM mode to move between two positions (lie and truth). Tested by observing the servo movement.</p>
    <p>- Heart Rate Monitor: ADC measures varying voltage for heart rate detection, with 7% accuracy compared to an Apple Watch.</p>
    <p>- Buzzer: Used to indicate a lie, tested via the data visualizer.</p>
</div>

<div id="Conclusion" class="content">
    <h2>Conclusion</h2>
    <p>Reflecting on the project, we aimed to improve the truth or dare game by adding accountability. We successfully connected display equipment with heart rate monitor input and analysis to create a smooth, bug-free game. Despite challenges with the heart rate sensor, we improved its accuracy and stability. Future enhancements could include a more accurate heart rate monitor, additional sensors for better lie detection, and user input for questions via Blynk. The project was a valuable learning experience in teamwork and technical problem-solving.</p>
</div>

<div id="References" class="content">
    <h2>References</h2>
    <p>Fill in your references here as you work on your proposal and final submission. Describe any libraries used here.</p>
</div>

<script>
    function openTab(evt, tabName) {
        var i, content, tablinks;
        content = document.getElementsByClassName("content");
        for (i = 0; i < content.length; i++) {
            content[i].style.display = "none";
        }
        tablinks = document.getElementsByClassName("navbar a");
        for (i = 0; i < tablinks.length; i++) {
            tablinks[i].className = tablinks[i].className.replace(" active", "");
        }
        document.getElementById(tabName).style.display = "block";
        evt.currentTarget.className += " active";
    }

    // Open the first tab by default
    document.addEventListener("DOMContentLoaded", function() {
        document.querySelector(".navbar a").click();
    });
</script>

</body>
</html>
